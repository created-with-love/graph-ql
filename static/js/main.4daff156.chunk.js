(this.webpackJsonpreactgraphql=this.webpackJsonpreactgraphql||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(4),r=n.n(c),i=n(2),o={headers:{"Content-Type":"application/json",Authorization:"bearer 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"},baseURL:"https://api.github.com/graphql",username:"created-with-love"},l=function(e,t,n,s){return{query:'\n    {\n      viewer {\n        name\n      }\n      search(query: "'.concat(t,' user:created-with-love sort:updated-desc", type: REPOSITORY, ').concat(n,": ").concat(e,", ").concat(s,") {\n        repositoryCount\n        edges {\n          cursor\n          node {\n            ... on Repository {\n              name\n              description\n              id\n              url\n              viewerSubscription\n              licenseInfo {\n                spdxId\n              }\n            }\n          }\n        }\n        pageInfo {\n          startCursor\n          endCursor\n          hasNextPage\n          hasPreviousPage\n        }\n      }\n    }\n  ")}},u=n(0),d=function(e){var t,n,s=e.repo;switch(null===(t=s.licenseInfo)||void 0===t?void 0:t.spdxId){case void 0:n=Object(u.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-danger",style:{fontSize:".6em"},children:"NO LICENSE"});break;case"NOASSERTION":n=Object(u.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-warning",style:{fontSize:".6em"},children:s.licenseInfo.spdxId});break;default:n=Object(u.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm btn-outline-success",style:{fontSize:".6em"},children:s.licenseInfo.spdxId})}return Object(u.jsx)("li",{className:"list-group-item",children:Object(u.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(u.jsxs)("div",{className:"d-flex flex-column",children:[Object(u.jsx)("a",{className:"h5 mb-0 text-decoration-none",href:s.url,children:s.name}),Object(u.jsx)("p",{className:"small",children:s.description})]}),Object(u.jsxs)("div",{className:"text-nowrap ms-3",children:[n,Object(u.jsx)("span",{className:"px-1 py-0 ms-1 d-inline-block btn btn-sm "+("SUBSCRIBED"===s.viewerSubscription?"btn-success":"btn-outline-secondary"),style:{fontSize:".6em"},children:s.viewerSubscription})]})]})},s.id.toString())},b=function(e){var t=e.totalCount,n=e.pageCount,s=e.queryString,a=e.onTotalChange,c=e.onQueryChange;return Object(u.jsxs)("div",{className:"d-flex align-items-center bg-light px-3 py-2 small rounded-3",children:[Object(u.jsxs)("div",{className:"d-flex align-items-center flex-grow-1",children:[Object(u.jsx)("label",{htmlFor:"queryString",className:"me-2 fw-bold text-secondary",children:"Search"}),Object(u.jsx)("input",{id:"queryString",className:"form-control form-control-sm me-2",type:"text",value:s,onChange:function(e){c(e.target.value)}})]}),Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)("label",{htmlFor:"pageCount",className:"me-2 fw-bold text-secondary",children:"Show"}),Object(u.jsx)("input",{id:"pageCount",className:"form-control form-control-sm text-center me-2",type:"number",min:"1",max:"100",value:n,onChange:function(e){a(e.target.value)}})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("b",{className:"me-2 text-secondary",children:"Total:"}),t]})]})},j=function(e){var t=e.start,n=e.end,s=e.next,a=e.previous,c=e.onPage;return Object(u.jsxs)("div",{className:"d-flex justify-content-center my-2",children:[a&&Object(u.jsx)("button",{className:"btn mx-1 btn-sm btn-primary bi bi-arrow-left",onClick:function(){return c("last",'before: "'+t+'"')}}),s&&Object(u.jsx)("button",{className:"btn mx-1 btn-sm btn-primary bi bi-arrow-right",onClick:function(){return c("first",'after: "'+n+'"')}})]})},m=function(e,t){var n=Object(s.useState)(""),a=Object(i.a)(n,2),c=a[0],r=a[1],o=Object(s.useState)(null),l=Object(i.a)(o,2),u=l[0],d=l[1],b=Object(s.useState)(10),j=Object(i.a)(b,2),m=j[0],h=j[1],p=Object(s.useState)(""),x=Object(i.a)(p,2),f=x[0],O=x[1],g=Object(s.useState)(null),v=Object(i.a)(g,2),y=v[0],S=v[1],N=Object(s.useState)(null),C=Object(i.a)(N,2),w=C[0],I=C[1],k=Object(s.useState)(null),P=Object(i.a)(k,2),q=P[0],R=P[1],T=Object(s.useState)(!1),E=Object(i.a)(T,2),z=E[0],A=E[1],B=Object(s.useState)(!0),J=Object(i.a)(B,2),L=J[0],U=J[1],D=Object(s.useState)("first"),F=Object(i.a)(D,2),Q=F[0],X=F[1],Y=Object(s.useState)(""),H=Object(i.a)(Y,2),K=H[0],M=H[1],V=Object(s.useCallback)((function(){var n=JSON.stringify(e(m,f,Q,K));fetch(t.baseURL,{method:"POST",headers:t.headers,body:n}).then((function(e){return e.json()})).then((function(e){var t,n,s,a,c=e.data.viewer,i=e.data.search.edges,o=e.data.search.repositoryCount,l=null===(t=e.data.search.pageInfo)||void 0===t?void 0:t.startCursor,u=null===(n=e.data.search.pageInfo)||void 0===n?void 0:n.endCursor,b=null===(s=e.data.search.pageInfo)||void 0===s?void 0:s.hasNextPage,j=null===(a=e.data.search.pageInfo)||void 0===a?void 0:a.hasPreviousPage;r(null===c||void 0===c?void 0:c.name),d(i),S(o),I(l),R(u),U(b),A(j)})).catch((function(e){console.log(e)}))}),[m,f,K,Q,t,e]);return Object(s.useEffect)((function(){V()}),[V]),[c,y,m,u,h,f,O,w,q,L,z,X,M]};var h=function(){var e=m(l,o),t=Object(i.a)(e,13),n=t[0],s=t[1],a=t[2],c=t[3],r=t[4],h=t[5],p=t[6],x=t[7],f=t[8],O=t[9],g=t[10],v=t[11],y=t[12];return Object(u.jsxs)("div",{className:"App container mt-5",children:[Object(u.jsxs)("h1",{className:"text-primary",children:[Object(u.jsx)("i",{className:"bi bi-diagram-2-fill"})," Repos"]}),Object(u.jsxs)("p",{children:["Hey there ",n]}),Object(u.jsx)(b,{totalCount:s,pageCount:a,queryString:h,onTotalChange:function(e){r(e)},onQueryChange:function(e){p(e)}}),Object(u.jsx)(j,{start:x,end:f,next:O,previous:g,onPage:function(e,t){v(e),y(t)}}),c&&Object(u.jsx)("ul",{className:"list-group list-group-flush",children:c.map((function(e){return Object(u.jsx)(d,{repo:e.node},e.node.id)}))}),Object(u.jsx)(j,{start:x,end:f,next:O,previous:g,onPage:function(e,t){v(e),y(t)}})]})};n(10);r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.4daff156.chunk.js.map